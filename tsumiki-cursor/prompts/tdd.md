# TDD（テスト駆動開発）プロンプト

## テスト仕様作成プロンプト
```
機能要件に基づいて、詳細なテスト仕様を作成してください。
テスト仕様書テンプレート（tsumiki-cursor/docs/tests/test_spec.md）に従って記載してください。

以下の観点でテストケースを設計してください：
1. 正常系テスト
2. 異常系テスト
3. 境界値テスト
4. エッジケース
5. 統合テスト
```

## Red Phase プロンプト
```
テスト仕様書に基づいて、失敗するテストコードを実装してください。

要件：
1. テストは必ず失敗すること（実装がないため）
2. テストケースは明確で理解しやすいこと
3. アサーションは具体的であること
4. テストの命名は意図が分かりやすいこと

例：
- describe文で機能をグループ化
- it文で具体的な振る舞いを記述
- expect文で期待値を明確に定義
```

## Green Phase プロンプト
```
失敗しているテストを通すための最小限の実装を行ってください。

重要：
1. テストを通すことだけに集中する
2. 過度な実装や最適化は行わない
3. シンプルで直接的な実装を心がける
4. 全てのテストが成功することを確認する
```

## Refactor Phase プロンプト
```
テストが通っている状態を維持しながら、コードをリファクタリングしてください。

リファクタリングの観点：
1. 重複コードの除去
2. 変数名・関数名の改善
3. 複雑な条件分岐の簡略化
4. 責任の分離（単一責任の原則）
5. テストコードのリファクタリング

必ず各変更後にテストを実行し、全て成功することを確認してください。
```

## カバレッジ確認プロンプト
```
実装されたコードのテストカバレッジを確認し、改善してください：

1. 現在のカバレッジを測定
2. カバーされていない箇所を特定
3. 必要なテストケースを追加
4. 目標カバレッジ: {X}%以上

カバレッジレポートを生成し、改善が必要な箇所を特定してください。
```
